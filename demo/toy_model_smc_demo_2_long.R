########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
#####################OLD DO NOTE USE - UDATE ###########
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
########################################################
### Computing the normalizing Constant Estimator here
prod1=mean(exp(test$incremWeights[,1]))
prod1
for(i in 2:(which(test$alphaVec == 1))){
  prod1 = prod1 * sum(exp(test$incremWeights[,i]+test$barLogWeights[,i-1]))
  print(prod1)
}
prod1

estimates = rep(NA,100)
for(k in 1:100){
  test = smcSamplerToy(numSamples = 1000,numDistrbtns = 100, dataSet, likeSigma  = likeSigma, priorSigma = priorSigma, varDimsn = 1,mu = 0)$normalizingConstant

  estimates[k] = test
  print(k)
  print(test)
}

plot(density(estimates),main = "Num of Particles 250")
abline(v=0.003564673)
abline(v=mean(estimates),lty=2)
mean(estimates)

plot(cumsum(estimates)/seq(1,100))
abline(h=0.003564673)
